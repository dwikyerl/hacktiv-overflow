(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"4jV8":function(t,e,s){"use strict";var n=s("wtG0"),i=s.n(n);i.a},"4lQE":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.question?s("div",{staticClass:"question"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-8-tablet is-8-desktop"},[s("div",{staticClass:"qa-area section"},[s("div",{staticClass:"question__header"},[s("h2",{staticClass:"question__title"},[t._v(t._s(t.question.title))])]),s("div",{staticClass:"question__q-section"},[s("vq-question-card")],1),s("div",{staticClass:"question__a-section"},[s("h3",{staticClass:"question__subtitle"},[t._v("\n              "+t._s(t.totalAnswers)+" Answers\n            ")]),t._l(this.questionAnswers,function(e){return t.renderAnswer?s("vq-answer-card",{key:e._id,attrs:{answerId:e._id}}):t._e()})],2),!t.isThisQuestionOwner&&t.isLoggedIn?s("div",{staticClass:"question__post-answer-section"},[s("h3",{staticClass:"question__subtitle"},[t._v("\n              Your Answer\n            ")]),s("vq-answer-form")],1):t._e()])])])])]):t._e()},i=[],o=s("yT7P"),a=(s("VRzm"),s("L2JU")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question-card"},[s("div",{staticClass:"question-card__vote"},[s("a",{staticClass:"question-card__vote-arrow",class:{disabled:!t.canVote},on:{click:t.upvote}},[s("b-icon",{attrs:{"custom-size":"mdi-48px","custom-class":"question-card__vote-arrow-icon",icon:"menu-up"}})],1),s("p",{staticClass:"question-card__vote-total"},[t._v(t._s(t.totalVotes))]),s("a",{staticClass:"question-card__vote-arrow",class:{disabled:!t.canVote},on:{click:t.downvote}},[s("b-icon",{attrs:{"custom-size":"mdi-48px","custom-class":"question-card__vote-arrow-icon",icon:"menu-down"}})],1)]),s("div",{staticClass:"question-card__question"},[s("div",{staticClass:"question-card__content",domProps:{innerHTML:t._s(t.question.content)}}),s("div",{staticClass:"question-card__extras"},[t.isThisQuestionOwner?s("div",{staticClass:"level is-mobile question-card__options"},[s("div",{staticClass:"level-item"},[s("a",{on:{click:function(e){return e.preventDefault(),t.submitDeleteQuestion(e)}}},[t._v("Delete")])]),s("div",{staticClass:"level-item"},[s("router-link",{staticClass:"is-pulled-right",attrs:{to:{name:"edit-question",params:{slug:this.question.slug}}}},[t._v("Edit")])],1)]):t._e(),s("div",{staticClass:"question-card__info is-pulled-right"},[s("span",{staticClass:"has-text-weight-light"},[t._v("asked at "+t._s(t.formattedTime)+" ")]),s("span",{staticClass:"question-card__author"},[t._v("by "+t._s(t.question.author[0]))])])])])])},c=[],u=s("wd/R"),l=s.n(u),d={name:"QuestionCard",computed:Object(o["a"])({},Object(a["c"])("questions",["question","questionVotes"]),Object(a["c"])("user",["username","id"]),Object(a["c"])("auth",["isLoggedIn"]),{formattedTime:function(){return l()(this.question.createdAt).format("MMM D YYYY, h:mm a")},isThisQuestionOwner:function(){return this.question.author[0]===this.username},canVote:function(){return this.isLoggedIn&&!this.isThisQuestionOwner},totalVotes:function(){return this.questionVotes.reduce(function(t,e){return t+=+e.value,t},0)}}),methods:Object(o["a"])({},Object(a["b"])("questions",["deleteQuestion","upvoteQuestion","downvoteQuestion"]),{submitDeleteQuestion:function(){var t=this;this.$dialog.confirm({title:"Deleting Question",message:"Are you sure you want to <b>delete</b> this question? This action cannot be undone.",confirmText:"Delete Question",type:"is-danger",hasIcon:!0,onConfirm:function(){return t.deleteQuestion(t.question.slug)}})},upvote:function(){this.upvoteQuestion(this.question.slug)},downvote:function(){this.downvoteQuestion(this.question.slug)}})},w=d,m=(s("MeNS"),s("KHd+")),h=Object(m["a"])(w,r,c,!1,null,null,null),v=h.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.answer?s("div",{staticClass:"answer-card"},[s("div",{staticClass:"answer-card__vote"},[s("a",{staticClass:"answer-card__vote-arrow",class:{disabled:!t.canVote},on:{click:function(){return t.vote("upvote")}}},[s("b-icon",{attrs:{"custom-size":"mdi-48px","custom-class":"answer-card__vote-arrow-icon",icon:"menu-up"}})],1),s("p",{staticClass:"answer-card__vote-total"},[t._v(t._s(t.totalVotes))]),s("a",{staticClass:"answer-card__vote-arrow",class:{disabled:!t.canVote},on:{click:function(){return t.vote("downvote")}}},[s("b-icon",{attrs:{"custom-size":"mdi-48px","custom-class":"answer-card__vote-arrow-icon",icon:"menu-down"}})],1)]),s("div",{staticClass:"answer-card__answer"},[s("div",{staticClass:"answer-card__content",domProps:{innerHTML:t._s(t.answer.content)}}),s("div",{staticClass:"answer-card__extras"},[t.isThisAnswerOwner?s("div",{staticClass:"level is-mobile question-card__options"},[s("div",{staticClass:"level-item"},[s("a",{on:{click:function(e){return e.preventDefault(),t.submitDeleteAnswer(e)}}},[t._v("Delete")])]),s("div",{staticClass:"level-item"},[s("a",{on:{click:function(e){return e.preventDefault(),t.openEditModal(e)}}},[t._v("Edit")])])]):t._e(),s("div",{staticClass:"answer-card__info is-pulled-right"},[s("span",{staticClass:"has-text-weight-light"},[t._v("answered at "+t._s(t.formattedTime)+" by ")]),s("span",{staticClass:"answer-card__author"},[t._v(t._s(t.answer.author.username))])])])])]):t._e()},_=[],p=(s("ls82"),s("MECJ")),b=s("iv4g"),q=s("uzYq"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"edit-form",on:{submit:function(e){return e.preventDefault(),t.submitEditAnswer(e)}}},[s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t._m(0),s("section",{staticClass:"modal-card-body"},[s("quill-editor",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Close")]),s("button",{staticClass:"button is-primary is-outlined"},[t._v("Save")])])])])},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Edit Answer")])])}],A=s("lT11"),O={name:"AnswerModalForm",props:{answer:Object},data:function(){return{content:this.answer.content,slug:this.$route.params.slug}},components:{quillEditor:A["quillEditor"]},methods:Object(o["a"])({},Object(a["b"])("questions",["editAnswer"]),{submitEditAnswer:function(){var t=this,e={content:this.content};this.$dialog.confirm({title:"Updating Answer",message:"Are you finished <b>updating</b> this answer?",confirmText:"Yes",type:"is-info",hasIcon:!0,onConfirm:function(){t.editAnswer({answerId:t.answer._id,updateData:e,slug:t.slug}),t.$parent.close()}})}})},V=O,j=(s("W7Fm"),Object(m["a"])(V,g,C,!1,null,null,null)),x=j.exports,y={name:"AnswerCard",props:{answerId:String},data:function(){return{answer:null,answerVotes:null,slug:this.$route.params.slug}},computed:Object(o["a"])({},Object(a["c"])("user",["username","id"]),Object(a["c"])("auth",["isLoggedIn"]),{formattedTime:function(){return l()(this.answer.createdAt).format("MMM D YYYY, h:mm a")},totalVotes:function(){return this.answerVotes.reduce(function(t,e){return t+=+e.value,t},0)},isThisAnswerOwner:function(){return this.answer.author.username===this.username},canVote:function(){return this.isLoggedIn&&!this.isThisAnswerOwner}}),methods:Object(o["a"])({},Object(a["b"])("questions",["deleteAnswer"]),{submitDeleteAnswer:function(){var t=this;this.$dialog.confirm({title:"Deleting Answer",message:"Are you sure you want to <b>delete</b> this Answer? This action cannot be undone.",confirmText:"Delete answer",type:"is-danger",hasIcon:!0,onConfirm:function(){return t.deleteAnswer({slug:t.slug,answerId:t.answerId})}})},addNewVote:function(t){this.answerVotes=Object(b["a"])(this.answerVotes).concat([t])},removeVote:function(t){this.answerVotes=this.answerVotes.filter(function(e){return e.voter!==t})},updateVote:function(t){this.answerVotes=this.answerVotes.map(function(e){return e._id===t._id?t:e})},vote:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var s,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s="/questions/".concat(this.slug,"/answers/").concat(this.answerId,"/").concat(e),t.next=4,q["a"].post(s);case 4:n=t.sent,i=n.data,i.updatedVote?this.updateVote(i.updatedVote):i.newVote?this.addNewVote(i.newVote):i.deletedVote&&this.removeVote(i.deletedVote.voter),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0),console.log(t.t0.response);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),openEditModal:function(){this.$modal.open({parent:this,component:x,hasModalCard:!0,props:{answer:this.answer}})}}),created:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e,s,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.slug,s="/questions/".concat(e,"/answers/").concat(this.answerId),t.next=4,q["a"].get(s);case 4:n=t.sent,i=n.data,this.answer=i.answer,this.answerVotes=i.answer.votes;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},Q=y,T=(s("4jV8"),Object(m["a"])(Q,f,_,!1,null,null,null)),D=T.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.submitAnswer(e)}}},[s("quill-editor",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),s("button",{staticClass:"button is-info answer-button"},[t._v("Post Answer")])],1)},E=[],$={name:"AnswerForm",data:function(){return{content:"",slug:this.$route.params.slug}},components:{quillEditor:A["quillEditor"]},methods:Object(o["a"])({},Object(a["b"])("questions",["postAnswer"]),{submitAnswer:function(){var t=this;if(""===this.content.trim())return this._vm.$toast.open({duration:1e3,message:"Content cannot be empty",type:"is-danger"});var e={content:this.content};this.$dialog.confirm({title:"Post Answer",message:"Do you want <b>post</b> this answer?",confirmText:"Yes",type:"is-info",hasIcon:!0,onConfirm:function(){t.postAnswer({slug:t.slug,answerData:e}),t.content=""}})}})},I=$,M=Object(m["a"])(I,k,E,!1,null,null,null),L=M.exports,Y={name:"Question",components:{"vq-question-card":v,"vq-answer-card":D,"vq-answer-form":L},computed:Object(o["a"])({},Object(a["c"])("questions",["question","questionAnswers"]),Object(a["c"])("user",["username"]),Object(a["c"])("auth",["isLoggedIn"]),{renderAnswer:function(){return this.question.answers[0].author.length>0},totalAnswers:function(){return this.renderAnswer?this.question.answers.length:0},isThisQuestionOwner:function(){return this.question.author[0]===this.username}}),methods:Object(o["a"])({},Object(a["b"])("questions",["fetchQuestionBySlug","setQuestion"])),created:function(){var t=this.$route.params.slug;this.fetchQuestionBySlug(t)},beforeRouteLeave:function(t,e,s){this.setQuestion(null),s()}},R=Y,S=(s("f8r6"),Object(m["a"])(R,n,i,!1,null,null,null));e["default"]=S.exports},Lnah:function(t,e,s){},MeNS:function(t,e,s){"use strict";var n=s("Lnah"),i=s.n(n);i.a},W7Fm:function(t,e,s){"use strict";var n=s("e5Bo"),i=s.n(n);i.a},aUwn:function(t,e,s){},e5Bo:function(t,e,s){},f8r6:function(t,e,s){"use strict";var n=s("aUwn"),i=s.n(n);i.a},wtG0:function(t,e,s){}}]);
//# sourceMappingURL=question.a0a68bd4.js.map